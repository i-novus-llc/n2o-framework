---
title: Действия
description: ""
---

import {Sandbox} from '../../../src/components/Sandbox/Sandbox'

Действия, меняющие состояние React компонентов и отправляющие запросы на сервер.

**Библиотека компонентов**
```
http://n2oapp.net/framework/config/schema/action-2.0
```

### Базовые свойства {#basic_properties}

**Атрибуты**

| Наименование | Тип    | Описание           |
|--------------|--------|--------------------|
| src          | Строка | Тип Redux действия |



## Простые действия {#simple_actions}

### &lt;a&gt; {#a}

Действие открытия ссылки

**Атрибуты**

| Наименование | Тип                                                        | Описание                                                                                                                                                                                                                                                               | Значение по умолчанию                                   | Обязательность |
|--------------|------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|----------------|
| href         | Строка                                                     | Адрес URL. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры).<br/> Подробнее [о формировании ссылки](../manual/routing#маршрутизация-вложенных-страниц)                                                                                          |                                                         | !              |
| datasource   | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных, из которого будет взято значение для плейсхолдеров в href                                                                                                                                                                              | Идентификатор источника данных родительского компонента |                |
| model        | resolve edit filter multi datasource                       | Модель, из которой будет взято значение для плейсхолдеров в href                                                                                                                                                                                                       | Модель родительского компонента                         |                |
| target       | newWindow self application                                 | Сценарий открытия ссылки:<br/> `newWindow` - в новой вкладке (относительный путь добавляется после хоста)<br/> `self` - в текущей вкладке (относительный путь добавляется после хоста)<br/> `application` - в текущей вкладке (относительный путь добавляется после #) | self                                                    |                |

**Тело**

&lt;path-param&gt; - [Параметр пути](#path-param) <br/>
&lt;query-param&gt; - [Параметр запроса](#query-param)

**Пример**

```xml
<a href="https://google.com" target="newWindow"/>
```

<Sandbox height={100} projectId="uxcomponents_actions_link"/>



### &lt;action&gt; {#custom_action}

Настраиваемое действие

**Атрибуты**

| Наименование            | Тип                                                                | Описание                                                                                                                                                                                                                                                               | Значение по умолчанию                                   | Обязательность |
|-------------------------|--------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|----------------|
| type                    | Строка                                                             | Тип Redux действия                                                                                                                                                                                                                                                     |                                                         | !              |
| close-on-success        | true false                                                         | Закрыть окно\страницу после успешного выполнения операции. Закроется окно, либо откроется предыдущая страница в хлебных крошках                                                                                                                                        | false                                                   |                |
| double-close-on-success | true false                                                         | Закрыть два окна\страницы после успешного выполнения операции. Закроются два окна, либо откроется страница на два уровня назад в хлебных крошках                                                                                                                       | false                                                   |                |
| close-on-fail           | true false                                                         | Закрыть окно\страницу после неудачного выполнения операции. Закроется окно, либо откроется предыдущая страница в хлебных крошках                                                                                                                                       | false                                                   |                |
| redirect-url            | Строка                                                             | URL, на который произойдет переход после успешного выполнения операции                                                                                                                                                                                                 |                                                         |                |
| redirect-target         | newWindow self application                                         | Сценарий открытия ссылки:<br/> `newWindow` - в новой вкладке (относительный путь добавляется после хоста)<br/> `self` - в текущей вкладке (относительный путь добавляется после хоста)<br/> `application` - в текущей вкладке (относительный путь добавляется после #) | self                                                    |                |
| refresh-on-success      | true false                                                         | Обновить данные после успешного выполнения операции                                                                                                                                                                                                                    | true                                                    |                |
| refresh-datasources     | Список ссылок на [источники данных](../xml/datasource#datasources) | Список идентификаторов источников данных (через запятую), которые необходимо обновить после успешного выполнения действия                                                                                                                                              | Идентификатор источника данных родительского компонента |                |

**Тело**

&lt;payload&gt; - [Полезная нагрузка](#custom_action_payload)

**Пример**

```xml
<action type="n2o/CUSTOM_ACTION"
        redirect-target="application" redirect-url="/main"
        close-on-success="true" refresh-datasources="ds1,ds2"/>
```

#### &lt;payload&gt; {#custom_action_payload}

Полезная нагрузка настраиваемого действия

**Атрибуты**

Может содержать любые атрибуты. Возможно использование плейсхолдеров

**Пример**

```xml
<payload docId="{s3guid}" formId="{formId}"/>
```



### &lt;alert&gt; {#alert}

Действие уведомления

**Атрибуты**

| Наименование | Тип                                                        | Описание                                                                                     | Значение по умолчанию                                   |
|--------------|------------------------------------------------------------|----------------------------------------------------------------------------------------------|---------------------------------------------------------|
| title        | Строка                                                     | Текст заголовка. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры)     |                                                         |
| text         | Строка                                                     | Текст сообщения. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры)     |                                                         |
| color        | primary secondary success danger warning info light dark   | Цвет уведомления. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры)    | secondary                                               |
| placement    | top bottom topLeft topRight bottomLeft bottomRight         | Расположение уведомления                                                                     | top                                                     |
| href         | Строка                                                     | URL перехода при клике по уведомлению                                                        |                                                         |
| time         | Строка                                                     | Время отправки уведомления                                                                   |                                                         |
| timeout      | Строка                                                     | Длительность показа уведомления (в мс)                                                       | 3000                                                    |
| close-button | true false                                                 | Наличие кнопки закрытия                                                                      | true                                                    |
| datasource   | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных, из которого будет взято значение для плейсхолдеров атрибутов | Идентификатор источника данных родительского компонента |
| model        | resolve edit filter multi datasource                       | Модель, из которой будет взято значение для плейсхолдеров атрибутов                          | Модель родительского компонента                         |
| class        | Строка                                                     | CSS класс уведомления                                                                        |                                                         |
| style        | Строка                                                     | CSS стиль уведомления                                                                        |                                                         |

**Настройки**

```yaml
#Цвет уведомления
n2o.api.action.alert.color = secondary
#Расположение уведомления
n2o.api.action.alert.placement = top
#Наличие кнопки закрытия уведомления
n2o.api.action.alert.close_button = true
#Длительность показа различных видов сообщений (в мс) в зависимости от цвета\важности
n2o.api.message.primary.timeout = 3000
n2o.api.message.secondary.timeout = 3000
n2o.api.message.success.timeout = 3000
n2o.api.message.danger.timeout = 8000
n2o.api.message.warning.timeout = 8000
n2o.api.message.info.timeout = 8000
n2o.api.message.light.timeout = 3000
n2o.api.message.dark.timeout = 3000
```

**Пример**

```xml
<alert title="title" text="{text}" placement="top" color="info"
       timeout="5000" time="2022-02-02T12:15:23" datasource="ds1"/>
```



### &lt;clear&gt; {#clear}

Действие очистки модели

**Атрибуты**

| Наименование     | Тип                                                        | Описание                                                 | Значение по умолчанию                                   |
|------------------|------------------------------------------------------------|----------------------------------------------------------|---------------------------------------------------------|
| datasource       | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных, чья модель будет очищена | Идентификатор источника данных родительского компонента |
| model            | resolve edit filter multi datasource                       | Список моделей (через запятую), которые будут очищены    | Модель родительского компонента                         |
| close-on-success | true false                                                 | Закрыть окно после успешной очистки модели               | false                                                   |

**Пример**

```xml
<clear model="edit"/>
```

<Sandbox height={200} projectId="uxcomponents_actions_clear"/>



### &lt;close&gt; {#close}

Действие закрытия страницы\окна

**Атрибуты**

| Наименование        | Тип        | Описание                                                    | Значение по умолчанию |
|---------------------|------------|-------------------------------------------------------------|-----------------------|
| unsaved-data-prompt | true false | Показать предупреждение о наличии несохраненных данных      | true                  |
| refresh             | true false | Обновить источник данных родительской страницы при закрытии | false                 |

**Настройки**

```yaml
#Обновить источник данных родительской страницы при закрытии
n2o.api.action.close.refresh_on_close = false
```

**Пример**

```xml
<close unsaved-data-prompt="false"/>
```

<Sandbox height={200} projectId="uxcomponents_actions_close" showHeader/>



### &lt;confirm&gt; {#confirm}

Действие открытия окна подтверждения

**Атрибуты**

| Наименование   | Тип           | Описание                                                                                              | Значение по умолчанию |
|----------------|---------------|-------------------------------------------------------------------------------------------------------|-----------------------|
| title          | String        | Заголовок окна подтверждения. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры) |                       |
| text           | String        | Текст подтверждения. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры)          |                       |
| type           | modal popover | Тип окна подтверждения                                                                                | modal                 |
| close-button   | true false    | Наличие закрывающего крестика                                                                         | false                 |
| class          | Строка        | CSS класс окна подтверждения                                                                          |                       |
| style          | Строка        | CSS стиль окна подтверждения                                                                          |                       |

**Настройки**

```yaml
#Тип окна предупреждения
n2o.api.action.confirm.mode = modal
#Наличие закрывающего крестика
n2o.api.action.confirm.close_button = false
```

**Тело**

&lt;ok&gt; - [Кнопка подтверждения](#confirm_buttons) <br/>
&lt;cancel&gt; - [Кнопка отмены](#confirm_buttons)

#### &lt;ok&gt; &lt;cancel&gt; {#confirm_buttons}

**Атрибуты**

| Наименование   | Тип                                                           | Описание                                           |
|----------------|---------------------------------------------------------------|----------------------------------------------------|
| label          | Строка                                                        | Заголовок кнопки                                   |
| color          | primary secondary success danger warning info light dark link | Цвет кнопки                                        |
| icon           | Строка                                                        | [Иконка кнопки](https://fontawesome.com/v6/icons/) |
| class          | Строка                                                        | CSS класс кнопки                                   |
| style          | Строка                                                        | CSS стиль кнопки                                   |

**Настройки**

```yaml
#Цвет кнопки подтверждения
n2o.api.action.confirm.ok_color = primary
#Цвет кнопки отмены
n2o.api.action.confirm.cancel_color = secondary
```

**Пример**

```xml
<confirm title="Подтверждение" text="Вы уверены?">
    <ok label="Да"/>
    <cancel label="Нет"/>
</confirm>
```

<Sandbox height={250} projectId="uxcomponents_actions_confirm"/>



### &lt;copy&gt; {#copy}

Действие копирования данных

**Атрибуты**

| Наименование      | Тип                                                        | Описание                                                                                                                                                                                                                                                                           | Значение по умолчанию                                   |
|-------------------|------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
| source-datasource | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных для копирования                                                                                                                                                                                                                                     | Идентификатор источника данных родительского компонента |
| source-model      | resolve edit filter multi datasource                       | Модель, которая будет скопирована                                                                                                                                                                                                                                                  | resolve                                                 |
| source-field-id   | Строка                                                     | Идентификатор копируемого поля источника                                                                                                                                                                                                                                           | Вся модель                                              |
| target-datasource | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных, в который производится копирование                                                                                                                                                                                                                 | Значение `source-datasource`                            |
| target-model      | resolve edit filter multi datasource                       | Модель, в которую производится копирование                                                                                                                                                                                                                                         | resolve                                                 |
| target-field-id   | Строка                                                     | Идентификатор поля, в которое производится копирование                                                                                                                                                                                                                             | Вся модель                                              |
| mode              | merge replace add                                          | Тип слияния данных:<br/>`merge` - за основу берется модель target, значения из source копируются с заменой<br/>`replace` - за основу берется модель source<br/>`add` - используется для массивов. За основу берется массив target, к нему добавляются все записи из source массива | merge                                                   |
| close-on-success  | true false                                                 | Закрыть окно после успешного копирования данных                                                                                                                                                                                                                                    | false                                                   |
| validate          | true false                                                 | Срабатывание валидации полей при выполнении действия                                                                                                                                                                                                                               | true                                                    |

**Настройки**

```yaml
# Закрыть окно после успешного копирования данных
n2o.api.action.copy.close_on_success = false
# Срабатывание валидации полей при выполнении действия
n2o.api.action.copy.validate = true
```

**Пример**

```xml
<copy source-field-id="id"
      target-datasource="table"
      target-field-id="dictionary.id"
      close-on-success="false"/>
```

<Sandbox height={250} projectId="uxcomponents_actions_copy"/>



### &lt;edit-list&gt; {#edit-list}

Действие редактирования записи списка без обращения к серверу

**Атрибуты**

| Наименование    | Тип                                                        | Описание                                                       | Значение по умолчанию                                   | Обязательность |
|-----------------|------------------------------------------------------------|----------------------------------------------------------------|---------------------------------------------------------|----------------|
| operation       | create createMany update delete deleteMany                 | Тип операции                                                   |                                                         | !              |
| primary-key     | Строка                                                     | Поле, по которому будет искаться запись при изменении/удалении | id                                                      |                |
| item-datasource | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных, из которого будет взята запись | Идентификатор источника данных родительского компонента |                |
| item-model      | resolve edit filter multi datasource                       | Модель, из которой будет взята запись                          | Модель родительского компонента                         |                |
| item-field-id   | Строка                                                     | Поле, из которого будет взята запись                           | Вся модель                                              |                |
| datasource      | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных списка, который будет обновлен  | Значение `item-datasource`                              |                |
| model           | resolve edit filter multi datasource                       | Модель данных списка, которая будет обновлена                  | Значение `item-model`                                   |                |
| list-field-id   | Строка                                                     | Поле списка, которое будет обновлено                           | Вся модель                                              |                |

**Настройки**

```yaml
#Поле, по которому будет искаться запись при изменении/удалении
n2o.api.action.edit_list.primary_key = id
```

**Пример**

```xml
<edit-list operation="update" item-datasource="docs" item-model="resolve"/>
```



### &lt;invoke&gt; {#invoke}

Действие выполнения операции объекта

**Атрибуты**

| Наименование            | Тип                                                                | Описание                                                                                                                                                                                                                                                               | Значение по умолчанию                                   | Обязательность |
|-------------------------|--------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|----------------|
| operation-id            | Ссылка на [операцию](../xml/object#operation) объекта              | Идентификатор операции, которая будет выполнена                                                                                                                                                                                                                        |                                                         | !              |
| object-id               | Ссылка на [объект](../xml/object)                                  | Идентификатор объекта, содержащий выполняемую операцию                                                                                                                                                                                                                 |                                                         |                |
| route                   | Строка                                                             | URL адрес операции                                                                                                                                                                                                                                                     | Формируется из идентификатора действия                  |                |
| method                  | POST PUT DELETE                                                    | Выполняемый HTTP метод                                                                                                                                                                                                                                                 | POST                                                    |                |
| submit-all              | true false                                                         | Отправить всю форму или только те поля, которые прописаны в form-param                                                                                                                                                                                                 | true                                                    |                |
| optimistic              | true false                                                         | Включение режима optimistic запросов на сервер                                                                                                                                                                                                                         | false                                                   |                |
| close-on-success        | true false                                                         | Закрыть окно\страницу после успешного выполнения операции. Закроется окно, либо откроется предыдущая страница в хлебных крошках                                                                                                                                        | false                                                   |                |
| double-close-on-success | true false                                                         | Закрыть два окна\страницы после успешного выполнения операции. Закроются два окна, либо откроется страница на два уровня назад в хлебных крошках                                                                                                                       | false                                                   |                |
| close-on-fail           | true false                                                         | Закрыть окно\страницу после неудачного выполнения операции. Закроется окно, либо откроется предыдущая страница в хлебных крошках                                                                                                                                       | false                                                   |                |
| clear-on-success        | true false                                                         | Очистить источник данных после успешного выполнения операции                                                                                                                                                                                                           | false                                                   |                |
| message-on-success      | true false                                                         | Показать сообщение после успешного выполнения операции                                                                                                                                                                                                                 | true                                                    |                |
| message-on-fail         | true false                                                         | Показать сообщение после неудачного выполнения операции                                                                                                                                                                                                                | true                                                    |                |
| message-position        | fixed relative                                                     | Положение сообщения:<br/>`fixed` - фиксированное (поверх страницы)<br/>`relative` - относительное (над виджетом)                                                                                                                                                       | fixed                                                   |                |
| message-placement       | top bottom topLeft topRight bottomLeft bottomRight                 | Положение сообщения при фиксации                                                                                                                                                                                                                                       | top                                                     |                |
| use-fail-out            | true false                                                         | Использование параметров [`<fail-out/>`](../xml/object#fail-out) после неудачного выполнения операции                                                                                                                                                                  | true                                                    |                |
| redirect-url            | Строка                                                             | URL, на который произойдет переход после успешного выполнения операции                                                                                                                                                                                                 |                                                         |                |
| redirect-target         | newWindow self application                                         | Сценарий открытия ссылки:<br/> `newWindow` - в новой вкладке (относительный путь добавляется после хоста)<br/> `self` - в текущей вкладке (относительный путь добавляется после хоста)<br/> `application` - в текущей вкладке (относительный путь добавляется после #) | self                                                    |                |
| refresh-on-success      | true false                                                         | Обновить данные после успешного выполнения операции                                                                                                                                                                                                                    | true                                                    |                |
| refresh-datasources     | Список ссылок на [источники данных](../xml/datasource#datasources) | Список идентификаторов источников данных (через запятую), которые необходимо обновить после успешного выполнения действия                                                                                                                                              | Идентификатор источника данных родительского компонента |                |

**Настройки**

```yaml
#Выполняемый HTTP метод
n2o.api.action.invoke.method = POST
#Включение режима optimistic запросов на сервер
n2o.api.action.invoke.optimistic = false
```

**Тело**

&lt;path-param&gt; - [Параметр пути](#path-param) <br/>
&lt;form-param&gt; - [Параметр запроса](#form-param) <br/>
&lt;header-param&gt; - [Параметр заголовка запроса](#header-param)

**Пример**

```xml
<invoke operation-id="update" model="edit"
        confirm="false" close-on-success="true" method="POST">
    <path-param name="..." value="..."/>
    <form-param id="..." value="..."/>
    <header-param name="..." value="..."/>
</invoke>
```

<Sandbox height={200} projectId="uxcomponents_actions_submit"/>



### &lt;on-fail&gt; {#on-fail}

Действие, выполняемое в случае операции, завершившейся ошибкой

**Тело**

Список [действий](../xml/action) выполняемых в случае операции, завершившейся ошибкой

**Пример**

```xml
<button label="Сохранить">
    <invoke operation-id="create"/>
    ...
    <alert text="Данные сохранены" color="success"/>
    <on-fail>
        <alert text="Сохранение завершилось ошибкой" color="danger"/>
        <close/>
    </on-fail>
</button>
```

<Sandbox height={200} projectId="uxcomponents_actions_on_fail"/>



### &lt;print&gt; {#print}

Действие печати документа

**Атрибуты**

| Наименование   | Тип            | Описание                                                                                            | Значение по умолчанию | Обязательность |
|----------------|----------------|-----------------------------------------------------------------------------------------------------|-----------------------|----------------|
| url            | Строка         | Адрес документа для печати. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры) |                       | !              |
| type           | text pdf image | Тип документа для печати                                                                            | pdf                   |                |
| keep-indent    | true false     | Сохранение отступов в документе. Актуально для типа text                                            | false                 |                |
| document-title | Строка         | Заголовок документа                                                                                 |                       |                |
| loader         | true false     | Показывать модальное окно с лоадером при загрузке                                                   | false                 |                |
| loader-text    | Строка         | Текст внутри модального окна с лоадером                                                             |                       |                |
| base64         | true false     | Печатать из base64                                                                                  | false                 |                |

**Настройки**
```yaml
#Тип документа для печати
n2o.api.action.print.document_type = pdf
#Сохранение отступов в документе
n2o.api.action.print.keep_indent = false
#Показывать модальное окно с лоадером при загрузке
n2o.api.action.print.loader = false
#Печатать из base64
n2o.api.action.print.base64 = false
```

**Тело**

&lt;path-param&gt; - [Параметр пути](#path-param) <br/>
&lt;query-param&gt; - [Параметр запроса](#query-param)

**Пример**

```xml
<print url="/files/document.pdf" document-title="Заявление"/>
```

<Sandbox height={200} projectId="uxcomponents_actions_print"/>



### &lt;refresh&gt; {#refresh}

Действие обновления источника данных

**Атрибуты**

| Наименование | Тип                                                        | Описание                       | Значение по умолчанию                                   |
|--------------|------------------------------------------------------------|--------------------------------|---------------------------------------------------------|
| datasource   | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных | Идентификатор источника данных родительского компонента |

**Пример**

```xml
<refresh datasource="reports"/>
```

<Sandbox height={200} projectId="uxcomponents_actions_refresh"/>



### &lt;set-value&gt; {#set-value}

Действие установки значения в модель

**Атрибуты**

| Наименование      | Тип                                                        | Описание                                                                                                                                                                                                                                                                           | Значение по умолчанию                                   |
|-------------------|------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
| source-datasource | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных, из которого берется значение                                                                                                                                                                                                                       | Идентификатор источника данных родительского компонента |
| source-model      | resolve edit filter multi datasource                       | Модель, из которой берется значение                                                                                                                                                                                                                                                | Модель родительского компонента                         |
| target-datasource | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных, в который будет записано значение                                                                                                                                                                                                                  | Идентификатор источника данных родительского компонента |
| target-model      | resolve edit filter multi datasource                       | Модель, в которую будет записано значение                                                                                                                                                                                                                                          | Модель родительского компонента                         |
| to                | Строка                                                     | Поле, в которое будет записано значение                                                                                                                                                                                                                                            | Вся модель                                              |
| merge-mode        | merge replace add                                          | Тип слияния данных:<br/>`merge` - за основу берется модель target, значения из source копируются с заменой<br/>`replace` - за основу берется модель source<br/>`add` - используется для массивов. За основу берется массив target, к нему добавляются все записи из source массива | replace                                                 |
| validate          | true false                                                 | Срабатывание валидации полей при выполнении действия                                                                                                                                                                                                                               | true                                                    |

**Настройки**

```yaml
# Срабатывание валидации полей при выполнении действия
n2o.api.action.set_value.validate = true

**Тело**

JS выражение

**Примеры**

```xml
<set-value target-datasource="users" target-model="resolve" to="fullname">
    return firstName + ' ' + lastName;
</set-value>
```

```xml
<set-value to="clock">
    moment().format('hh:mm:ss')
</set-value>
```



### &lt;submit&gt; {#submit}

Действие сохранения источника данных

**Атрибуты**

| Наименование | Тип                                                        | Описание                       | Значение по умолчанию                                   |
|--------------|------------------------------------------------------------|--------------------------------|---------------------------------------------------------|
| datasource   | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных | Идентификатор источника данных родительского компонента |

**Пример**

```xml
<submit datasource="ds"/>
```



## Действия по условию {#condition_actions}

### &lt;switch&gt; {#switch_action}

Оператор switch

**Атрибуты**

| Наименование   | Тип                                                        | Описание                                                                | Значение по умолчанию                                   | Обязательность |
|----------------|------------------------------------------------------------|-------------------------------------------------------------------------|---------------------------------------------------------|----------------|
| value-field-id | Строка                                                     | Идентификатор поля, значение которого будет сравниваться с value в case |                                                         | !              |
| datasource     | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных, из которого будет взято значение        | Идентификатор источника данных родительского компонента |                |
| model          | resolve edit filter multi datasource                       | Модель источника данных, из которой будет взято значение                | Модель родительского компонента                         |                |

**Тело**

&lt;case&gt; - [Действие по условию оператора switch](../xml/base#case) <br/>
&lt;default&gt; - [Действие по умолчанию оператора switch](../xml/base#default)

**Пример**

```xml
<switch value-field-id="code">
    <case value="A">
        <open-page page-id="test"/>
    </case>
    <case value="B">
        <invoke operation-id="create"/>
        <invoke operation-id="save"/>
    </case>
    <default>
        <close/>
    </default>
</switch>
```



### &lt;if&gt; &lt;else-if&gt; &lt;else&gt; {#if_else_action}

#### &lt;if&gt; {#if}

Условный оператор if

**Атрибуты**

| Наименование | Тип                                                        | Описание                                                              | Значение по умолчанию                                   | Обязательность |
|--------------|------------------------------------------------------------|-----------------------------------------------------------------------|---------------------------------------------------------|----------------|
| test         | Строка                                                     | Условие для выполнения действия оператора                             |                                                         | !              |
| datasource   | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных, из которого берется значения для test | Идентификатор источника данных родительского компонента |                |
| model        | resolve edit filter multi datasource                       | Модель источника данных, из которой берется значения для test         | Модель родительского компонента                         |                |

**Тело**

[Действия](../xml/action) для выполнения при срабатывании условия

#### &lt;else&gt; {#else}

Условный оператор else

**Тело**

[Действия](../xml/action) для выполнения при срабатывании условия

#### &lt;else-if&gt; {#else-if}

Условный оператор else-if

**Атрибуты**

| Наименование | Тип    | Описание                                  | Обязательность |
|--------------|--------|-------------------------------------------|----------------|
| test         | Строка | Условие для выполнения действия оператора | !              |

**Тело**

[Действия](../xml/action) для выполнения при срабатывании условия


**Пример**

```xml
<button label="Сохранить с условием">
    <if test="code == 'A' &amp;&amp; type == 1">
        <invoke operation-id="save"/>
    </if>
    <else-if test="code == 'A' &amp;&amp; type == 2">
        <invoke operation-id="update"/>
        <show-modal page-id="card"/>
    </else-if>
    <else>
        <alert text="Не выполнены условия"/>
    </else>
</button>
```



## Действия открытия страниц {#page_actions}

### Базовые свойства {#page_actions_base_properties}

| Наименование                 | Тип                                                                | Описание                                                                                                     | Значение по умолчанию                                   | Обязательность |
|------------------------------|--------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|----------------|
| page-id                      | Ссылка на [страницу](../xml/page)                                  | Идентификатор открываемой страницы                                                                           |                                                         | !              |
| page-name                    | Строка                                                             | Имя открываемой страницы                                                                                     |                                                         |                |
| route                        | Строка                                                             | URL, по которому будет открыта страница                                                                      | Формируется на основе идентификатора действия           |                |
| target                       | application newWindow                                              | Сценарий действия открытия страницы:<br/>`newWindow` - в новой вкладке<br/>`application` - в текущей вкладке | application                                             |                |
| refresh-on-close             | true false                                                         | Обновить данные после закрытия модального окна                                                               | false                                                   |                |
| refresh-datasources          | Список ссылок на [источники данных](../xml/datasource#datasources) | Список идентификаторов источников данных, которые будут обновлены                                            | Идентификатор источника данных родительского компонента |                |
| unsaved-data-prompt-on-close | true false                                                         | Предупредить о несохраненных данных на форме при закрытии страницы                                           | false                                                   |                |

**Настройки**

```yaml
#Предупредить о несохраненных данных на форме при закрытии страницы
n2o.api.action.unsaved_data_prompt = false
```



### &lt;open-page&gt; {#open-page}

Действие открытия страницы

**Тело**

&lt;params&gt; - Список [параметров пути](#path-param) и [параметров запроса](#query-param) <br/>
&lt;datasources&gt; - Список переопределений [источников данных](../xml/datasource#datasources) <br/>
&lt;breadcrumbs&gt; - Список переопределений [хлебных крошек](../xml/page#breadcrumbs) <br/>
&lt;toolbars&gt; - Список переопределений [меню управляющих кнопок](../xml/page#toolbar) <br/>
&lt;actions&gt; - Список переопределений [действий страницы](../xml/page#actions)

**Пример**

```xml
<open-page
       page-id="employee"
       route="/open">
    <params>
        <path-param>...</path-param>
        <query-param>...</query-param>
    </params>
    <datasources>...</datasources>
    <breadcrumbs>...</breadcrumbs>
    <toolbars>...</toolbars>
    <actions>...</actions>
</open-page>
```

<Sandbox height={200} projectId="uxcomponents_actions_open_page" showHeader />



### &lt;show-modal&gt; {#show-modal}

Действие открытия модального окна

**Атрибуты**

| Наименование                  | Тип               | Описание                                                                                                                                                                                                                                                           | Значение по умолчанию |
|-------------------------------|-------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
| modal-size                    | sm md lg xl       | Размер модального окна                                                                                                                                                                                                                                             | lg                    |
| backdrop                      | true false static | Наличие фона модального окна и закрытие по клику на фон:<br/>`true` - темный фон, клик по фону закрывает модальное окно<br/>`false` - прозрачный фон, клик по фону не закрывает модальное окно<br/>`static` - темный фон, клик по фону не закрывает модальное окно | static                |
| scrollable                    | true false        | Фиксирование размера модального окна с полосой прокрутки внутри                                                                                                                                                                                                    | false                 |
| has-header                    | true false        | Наличие шапки                                                                                                                                                                                                                                                      | true                  |
| class                         | Строка            | CSS класс страницы                                                                                                                                                                                                                                                 |                       |
| style                         | Строка            | СSS стиль страницы                                                                                                                                                                                                                                                 |                       |

**Настройки**

```yaml
#Размер модального окна
n2o.api.action.show_modal.size = lg
#Фиксирование размера модального окна с полосой прокрутки внутри
n2o.api.action.show_modal.scrollable = false
#Наличие шапки
n2o.api.action.show_modal.has_header = true
#Наличие фона модального окна и закрытие по клику на фон
n2o.api.action.show_modal.backdrop = static
```

**Тело**

&lt;params&gt; - Список [параметров пути](#path-param) и [параметров запроса](#query-param) <br/>
&lt;datasources&gt; - Список переопределений [источников данных](../xml/datasource#datasources) <br/>
&lt;breadcrumbs&gt; - Список переопределений [хлебных крошек](../xml/page#breadcrumbs) <br/>
&lt;toolbars&gt; - Список переопределений [меню управляющих кнопок](../xml/page#toolbar) <br/>
&lt;actions&gt; - Список переопределений [действий страницы](../xml/page#actions)

**Пример**

```xml
<show-modal
       page-id="employee">
    <params>
        <path-param>...</path-param>
        <query-param>...</query-param>
    </params>
    <datasources>...</datasources>
    <breadcrumbs>...</breadcrumbs>
    <toolbars>...</toolbars>
    <actions>...</actions>
</show-modal>
```

<Sandbox height={350} projectId="uxcomponents_modal_modal" />



### &lt;open-drawer&gt; {#open-drawer}

Действие открытия drawer окна

**Атрибуты**

| Наименование                 | Тип                   | Описание                                                                                                        | Значение по умолчанию |
|------------------------------|-----------------------|-----------------------------------------------------------------------------------------------------------------|-----------------------|
| width                        | Строка                | Ширина окна. Доступные единицы измерения: `px`, `em`, `rem`, `%`. При указании числа оно будет приведено к `px` | 400                   |
| height                       | Строка                | Высота окна. Доступные единицы измерения: `px`, `em`, `rem`, `%`. При указании числа оно будет приведено к `px` |                       |
| placement                    | left top right bottom | Позиция окна                                                                                                    | right                 |
| closable                     | true false            | Наличие крестика для закрытия drawer окна                                                                       | true                  |
| backdrop                     | true false            | Наличие фона                                                                                                    | true                  |
| close-on-escape              | true false            | Закрыть окно при нажатии на Esc                                                                                 | true                  |
| close-on-backdrop            | true false            | Закрыть окно по клику на фон                                                                                    | true                  |
| fixed-footer                 | true false            | Фиксирование подвала                                                                                            | false                 |

**Настройки**

```yaml
#Ширина окна
n2o.api.action.open_drawer.width = 400
#Позиция окна
n2o.api.action.open_drawer.placement = right
#Наличие крестика для закрытия drawer окна
n2o.api.action.open_drawer.closable = true
#Наличие фона
n2o.api.action.open_drawer.backdrop = true
#Закрыть окно при нажатии на Esc
n2o.api.action.open_drawer.close_on_escape = true
#Закрыть окно по клику на фон
n2o.api.action.open_drawer.close_on_backdrop = true
#Фиксирование подвала (footer)
n2o.api.action.open_drawer.fixed_footer = false
```

**Тело**

&lt;params&gt; - Список [параметров пути](#path-param) и [параметров запроса](#query-param) <br/>
&lt;datasources&gt; - Список переопределений [источников данных](../xml/datasource#datasources) <br/>
&lt;breadcrumbs&gt; - Список переопределений [хлебных крошек](../xml/page#breadcrumbs) <br/>
&lt;toolbars&gt; - Список переопределений [меню управляющих кнопок](../xml/page#toolbar) <br/>
&lt;actions&gt; - Список переопределений [действий страницы](../xml/page#actions)

**Пример**

```xml
<open-drawer
       page-id="employee">
    <params>
        <path-param>...</path-param>
        <query-param>...</query-param>
    </params>
    <datasources>...</datasources>
    <breadcrumbs>...</breadcrumbs>
    <toolbars>...</toolbars>
    <actions>...</actions>
</open-drawer>
```

<Sandbox height={400} projectId="uxcomponents_modal_drawer" />



## Параметры запроса {#params}

### &lt;path-param&gt; {#path-param}

Параметр пути

**Атрибуты**

| Наименование | Тип                                                        | Описание                                                         | Значение по умолчанию                                   | Обязательность |
|--------------|------------------------------------------------------------|------------------------------------------------------------------|---------------------------------------------------------|----------------|
| name         | Строка                                                     | Имя параметра                                                    |                                                         | !              |
| value        | Строка                                                     | Значение параметра                                               |                                                         |                |
| datasource   | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных, из которого будет взято значение | Идентификатор источника данных родительского компонента |                |
| model        | resolve edit filter multi datasource                       | Модель, из которой будет взято значение                          | Модель родительского компонента                         |                |

**Пример**

```xml
<path-param name="person_id" value="{id}" datasource="master" model="filter"/>
```



### &lt;query-param&gt; {#query-param}

Параметр запроса

**Атрибуты**

| Наименование | Тип                                                        | Описание                                                         | Значение по умолчанию                                   | Обязательность |
|--------------|------------------------------------------------------------|------------------------------------------------------------------|---------------------------------------------------------|----------------|
| name         | Строка                                                     | Имя параметра                                                    |                                                         | !              |
| value        | Строка                                                     | Значение параметра                                               |                                                         |                |
| datasource   | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных, из которого будет взято значение | Идентификатор источника данных родительского компонента |                |
| model        | resolve edit filter multi datasource                       | Модель, из которой будет взято значение                          | Модель родительского компонента                         |                |

**Пример**

```xml
<query-param name="person_id" value="{id}" datasource="master" model="filter"/>
```

### &lt;header-param&gt; {#header-param}

Параметр заголовка запроса

**Атрибуты**

| Наименование | Тип                                                        | Описание                                                         | Значение по умолчанию                                   | Обязательность |
|--------------|------------------------------------------------------------|------------------------------------------------------------------|---------------------------------------------------------|----------------|
| name         | Строка                                                     | Имя параметра                                                    |                                                         | !              |
| value        | Строка                                                     | Значение параметра                                               |                                                         |                |
| datasource   | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных, из которого будет взято значение | Идентификатор источника данных родительского компонента |                |
| model        | resolve edit filter multi datasource                       | Модель, из которой будет взято значение                          | Модель родительского компонента                         |                |

**Пример**

```xml
<header-param name="person-id" value="{id}" datasource="master" model="filter"/>
```

### &lt;form-param&gt; {#form-param}

Параметр тела запроса

**Атрибуты**

| Наименование | Тип                                                        | Описание                                                         | Значение по умолчанию                                   | Обязательность |
|--------------|------------------------------------------------------------|------------------------------------------------------------------|---------------------------------------------------------|----------------|
| id           | Строка                                                     | Идентификатор параметра                                          |                                                         | !              |
| value        | Строка                                                     | Значение параметра                                               |                                                         |                |
| datasource   | Ссылка на [источник данных](../xml/datasource#datasources) | Идентификатор источника данных, из которого будет взято значение | Идентификатор источника данных родительского компонента |                |
| model        | resolve edit filter multi datasource                       | Модель, из которой будет взято значение                          | Модель родительского компонента                         |                |

**Пример**

```xml
<form-param id="personId" value="{id}" datasource="master" model="filter"/>
```
