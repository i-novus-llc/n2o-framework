---
title: Филдсеты
description: ""
---
import { Sandbox } from '../../../src/components/Sandbox/Sandbox'

**Тип метаданных**

 `fieldset`

**Библиотека компонентов**

```
http://n2oapp.net/framework/config/schema/fieldset-5.0
```

### Базовые свойства {#Basic_properties}

**Атрибуты**

|Наименование        |Тип                     |Описание                                |Значение по умолчанию|
|--------------------|------------------------|----------------------------------------|---------------------|
|id                  |Строка                  |Идентификатор филдсета                  |                     |
|ref-id              |Ссылка                  |Ссылка на файл филдсета                 |                     |
|src                 |Строка                  |React компонент филдсета                |                     |
|class               |CSS класс               |Класс компонента филдсета               |                     |
|style               |CSS свойство            |Стиль компонента филдсета               |                     |
|label               |Строка                  |Заголовок филдсета                      |                     |
|description         |Строка                  |Подзаголовок филдсета                   |                     |
|field-label-location|left top                |Расположение лейблов                    |top                  |
|field-label-align   |left right              |Выравнивание лейблов                    |left                 |
|field-label-width   |Строка                  |Ширина лейблов. Доступные единицы измерения: `px`, `em`, `rem`. При указании числа оно будет приведено к `px` |default              |
|visible             |Выражение               |Условие видимости                       |true                 |
|enabled             |Выражение               |Условие доступности                     |true                 |
|depends-on          |Строка                  |Список полей, от которых зависит филдсет|                     |
|help                |Строка                  |Подсказка                               |                     |
|badge               |Строка                  |Значок филдсета                         |true                 |
|badge-color         |primary secondary success danger warning info light dark|Цвет значка. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры) |                     |
|badge-shape         |rounded circle square   |Форма значка                            |square               |
|badge-position      |left right              |Позиция значка                          |right                |
|badge-image         |Строка                  |Картинка в значке                       |                     |
|badge-image-shape   |rounded circle square   |Форма картинки в значке                 |circle               |
|badge-image-position|left right              |Позиция картинки в значке               |left                 |

**Настройки**
```yaml
#Значение по умолчанию для позиции бейджа филдсета
n2o.api.fieldset.badge.position=right
#Значение по умолчанию формы бейджа филдсета
n2o.api.fieldset.badge.shape=square
#Значение по умолчанию для позиции картинки в значке бейджа филдсета
n2o.api.fieldset.badge.image_position=left
#Значение по умолчанию формы картинки в значке бейджа филдсета
n2o.api.fieldset.badge.image_shape=circle
```

**Тело**<br/>
Список [полей](../xml/field)<br/>
Список [филдсетов](#Basic_properties)<br/>
&lt;row&gt; - Список [строк филдсета](#row)<br/>
&lt;col&gt; - Список [столбцов филдсета](#col)

**Пример**

```xml
<set>
  <input-text/><!--Поле-->
  <input-text/><!--Поле-->
  <input-text/><!--Поле-->
</set>
```

```xml
<set>
  <row>...</row><!--Строка-->
  <row>...</row><!--Строка-->
  <row>...</row><!--Строка-->
</set>
```

```xml
<set>
  <col>...</col><!--Столбец-->
  <col>...</col><!--Столбец-->
  <col>...</col><!--Столбец-->
</set>
```

#### &lt;row&gt;

Строка филдсета.

**Атрибуты**

|Наименование|Тип         |Описание                |Значение по умолчанию|
|------------|------------|------------------------|---------------------|
|class       |CSS класс   |Класс компонента строки |                     |
|style       |CSS свойство|Стиль компонента строки |                     |

**Тело**<br/>
Список [полей](../xml/field)<br/>
Список [филдсетов](#Basic_properties)<br/>
&lt;col&gt; - Список [столбцов филдсета](#col)

**Пример**

```xml
<row>
  <input-text/><!--Поле-->
  <input-text/><!--Поле-->
  <input-text/><!--Поле-->
</row>
```

```xml
<row>
  <col>...</col><!--Столбец-->
  <col>...</col><!--Столбец-->
  <col>...</col><!--Столбец-->
</row>
```

#### &lt;col&gt;

Столбец филдсета.

**Атрибуты**

|Наименование|Тип         |Описание                                        |Значение по умолчанию|
|------------|------------|------------------------------------------------|---------------------|
|size        |Число       |Ширина столбца согласно сетке bootstrap (1-12). |                     |
|class       |CSS класс   |Класс компонента столбца                        |                     |
|style       |CSS свойство|Стиль компонента столбца                        |                     |
|visible     |true false  |Условие видимости                               |true                 |

**Тело**<br/>
Список [полей](../xml/field)<br/>
Список [филдсетов](#Basic_properties)

**Пример**

```xml
<col>
  <input-text/><!--Поле-->
  <input-text/><!--Поле-->
  <input-text/><!--Поле-->
</col>
```

### &lt;set&gt;

Простой филдсет.

**Пример**
```xml
<set>
  ...
</set>
```

<Sandbox height={200} projectId="uxcomponents_fieldsets_field_label" />

### &lt;line&gt;

Филдсет с горизонтальной линией.

**Атрибуты**

|Наименование |Тип       |Описание                                     |Значение по умолчанию|
|---------------------|------------------------|---------------------------------------------|---------------------|
|collapsible          |true false              |Возможность раскрытия и сворачивания филдсета|true                 |
|has-separator        |true false              |Наличие горизонтального делителя             |true                 |
|expand               |true false              |Исходное раскрытие филдсета                  |true                 |

**Настройки**
```yaml
#Значение по умолчанию для возможности раскрытия и сворачивания филдсета <line>
n2o.api.fieldset.line.collapsible=true
#Значение по умолчанию для наличия горизонтального делителя в филдсете <line>
n2o.api.fieldset.line.has_separator=true
#Значение по умолчанию для исходного состояния раскрытия филдсета <line>
n2o.api.fieldset.line.expand=true
```

**Пример**

```xml
<line label="Общие данные" collapsible="true">
  ...
</line>
```

<Sandbox height={200} projectId="uxcomponents_fieldsets_field_separator_collapsible" />

### &lt;multi-set&gt;

Филдсет с динамическим числом полей (мультисет)

**Атрибуты**

|Наименование          |Тип       |Описание                                                                      |Значение по умолчанию| Обязательность|
|----------------------|----------|------------------------------------------------------------------------------|---------------------|---------------|
|id                    |Строка    |Идентификатор филдсета.                                                       |                     | !
|children-label        |Строка    |Заголовок дочерних элементов. С помощью `{index}` можно управлять нумерацией. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры)  |                     |
|first-children-label  |Строка    |Заголовок первого дочернего элемента. Для возможности отображать без нумерации. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры)|                     |
|add-label             |Строка    |Заголовок кнопки добавления. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры)                                                   |                     |
|remove-all-label      |Строка    |Заголовок кнопки удаления всех добавленных филдсетов. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры)                          |                     |
|can-remove-first      |true false|Возможность удаления первого элемента. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры)                                         |false                |
|can-add               |true false|Возможность добавления новых филдсетов. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры)                                        |true                 |
|can-remove            |true false|Возможность удаления новых филдсетов. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры)                                          |true                 |
|can-remove-all        |true false|Возможность удаления всех добавленных филдсетов. Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры)                               |false                |
|can-copy              |true false|Возможность копирования филдсета в новый (вместе с данными). Возможно использование [плейсхолдеров](../manual/configs/#плейсхолдеры)                   |false                |
|primary-key           |Строка    |Уникальный ключ каждого филдсета.                                             |id                   |
|generate-primary-key  |true false|Генерировать ли уникальный ключ для каждого филдсета. Значение guid будет генерироваться в primary-key. |false|

**Настройки**
```yaml
#Удаление первого элемента
n2o.api.fieldset.multi-set.can_remove_first_item = false
#Добавление новых филдсетов
n2o.api.fieldset.multi-set.can_add = true
#Удаление новых филдсетов
n2o.api.fieldset.multi-set.can_remove = true
#Копирование филдсета в новый (вместе с данными)
n2o.api.fieldset.multi-set.can_copy = false
#Удаление всех добавленных филдсетов
n2o.api.fieldset.multi-set.can_remove_all = false
#Генерация уникального ключа для каждого филдсета.
n2o.api.fieldset.multi-set.generate_primary_key = false
```

**Пример**

```xml
<multi-set id="members"
    label="Участник {index}"
    add-label="Добавить участника"
    remove-all-label="Удалить всех участников"
    can-remove-all="true"
    primary-key="pk"
    generate-primary-key="true">
    ...
</multi-set>
```

:::note
Идентификатор мультисета `id` задает название спискового поля, в котором будут храниться все добавленные группы полей.

```xml
<multi-set id="members">
   <input-text id="name"/>
   ...
</multi-set>
```
в модели данных:
```json
"members": [
  { "name": "one", ... },  //первая группа полей
  { "name": "two", ... },  //вторая группа полей
  ...
]
```
:::

:::note
Любые зависимости и валидации полей внутри мультисета необходимо задавать с помощью переменной `index`.
Индекс определяет текущую группу полей мультисета.

```xml
<multi-set id="members">
    <input-text id="firstName"/>
    <input-text id="lastName">
        <dependencies>
            <visibility on="members[index].firstName">
               members[index].firstName != null
           </visibility>
        </dependencies>
    </input-text>
</multi-set>
```

:::

#### Вложенные мультисеты

Обращение к внутреннему контексту в выражениях вложенных мультисетов осуществляется с помощью цепочки индексов `$index_N`,
где N - соответствует уровню вложенного мультисета.

```xml
set[index].inner_set1[$index_1]...inner_setN[$index_N].field
```
:::note
Для мультисета верхнего уровня используется `index` или `$index_0`.
:::

**Пример**
```xml
<multi-set id="groups" children-label="Группа {index}">
    <multi-set id="persons" children-label="Участник {index}.{$index_1}">
        <input-text id="name" label="{index}.{$index_1} Имя"/>
    </multi-set>
</multi-set>
```
