== Кнопки

Библиотека компонентов::
```
http://n2oapp.net/framework/config/schema/button-1.0
```

=== Базовые свойства

[cols="2,1,4,4"]
|===
|Наименование|Тип|Описание|Значение по умолчанию

|id
|Строка
|Идентификатор кнопки
|Вычисляется из `action-id`

|label
|Строка
|Заголовок кнопки
|

|icon
|http://fontawesome.io/icons/[CSS класс]
|Иконка
|

|type
|text, icon, iconAndText
|Кнопка с иконкой или без
|iconAndText

|class
|https://getbootstrap.com/docs/4.0/components/buttons/#examples[CSS класс]
|Css класс кнопки
|

|style
|CSS свойство
|Стиль кнопки
|

|color
|primary, secondary, success, danger, warning, info, light, dark, link
|Цвет кнопки
|

|src
|Строка
|Реализация кнопки.
|

|description
|Строка
|Описание при наведении на кнопку
|

|tooltip-position
|left, right, top, bottom
|Позиция подсказки.
|

|===

==== <button>
Кнопка.

Атрибуты::
[cols="2,1,4,4"]
|===
|Наименование|Тип|Описание|Значение по умолчанию

|action-id
|Ссылка на link:#__action[действие страницы]
|Действие страницы, которое будет вызвано при нажатии на кнопку
|

|rounded
|true false
|Круглая форма кнопки
|false

|validate
|true false
|Валидировать ли форму при нажатии на кнопку.
|false

|confirm
|true false
|Показать предупреждение перед выполнением действия.
|false

|confirm-type
|Строка
|popover modal
|modal

|confirm-text
|Строка
|Текст предупреждения.
|

|confirm-title
|Строка
|Заголовок окна предупреждения.
|

|confirm-ok-label
|Строка
|Текст кнопки подтверждения.
|

|confirm-cancel-label
|Строка
|Текст кнопки отмены.
|

|model
|resolve filter edit multi
|Модель, над которой выполнится действие. Если модель пустая, то кнопка будет заблокирована.
|resolve

|visible
|Строка
|Видимость по умолчанию.
|

|enabled
|Строка
|Доступность по умолчанию.
|

|widget-id
|Строка
|Идентификатор виджета над которым будет выполнена операция. По умолчанию главный виджет страницы(если он один).
|

|disable-on-empty-model
|true false auto
|Недоступность кнопки при пустой модели.
`true` - всегда недоступна,
`false` - всегда доступна,
`auto` - недоступна только при пустой модели resolve,
для всех остальных моделей доступна всегда.
|auto

|===

Тело::
link:#_Действия[Обработчик действия],
link:#_Зависимости_компонента[Зависимости компонента]

Пример::
[source,xml]
----
<button action-id="create" enabled="{type=='type1'}"/>
----

[source,xml]
----
<button
  label="Добавить в реестр"
  icon="fa-plus"
  type="icon">
  <open-page page-id="register" action-id="create"/>
</button>
----

===== <sub-menu>
Кнопка с выпадающим меню.

Атрибуты::
[cols="2,1,4,4"]
|===
|Наименование|Тип|Описание|Значение по умолчанию

|generate
|Строка
|Генерация стандартных кнопок.
|

|show-toggle-icon
|true false
|Показывать иконку переключателя.
|true

|visible
|true false
|Условие видимости кнопки.
|true

|===

Пример::
[source,xml]
----
<sub-menu>
  <menu-item>...</menu-item>
  <menu-item>...</menu-item>
  <menu-item>...</menu-item>
</sub-menu>
----

Тело::
link:#_Кнопка[Элементы выпадающего меню]

==== <dependencies>
Зависимости компонента

Пример::
[source,xml]
----
<button id="btn">
  <dependencies>
    ...
  </dependencies>
</button>
----

===== <enabling>
Условие доступности

Атрибуты::
[cols="2,1,4,4"]
|===
|Наименование|Тип|Описание|Значение по умолчанию

|ref-widget-id
|Строка
|Идентификатор виджета, по полю которого будет фильтрация
|

|ref-model
|resolve, filter
|Модель виджета, по полю которого будет фильтрация
|

|message
|Строка
|Сообщение о причине недоступности
|

|===

Тело::
Java Script выражение

Пример::
[source,xml]
----
<dependencies>
  <enabling ref-widget-id="main" ref-model="resolve">type.id == 1</enabling>
  <!-- Поле доступно, если type.id равен 1 -->
</dependencies>
----

===== <visibility>
Условие видимости

Атрибуты::
[cols="2,1,4,4"]
|===
|Наименование|Тип|Описание|Значение по умолчанию

|ref-widget-id
|Строка
|Идентификатор виджета, по полю которого будет фильтрация
|

|ref-model
|resolve, filter
|Модель виджета, по полю которого будет фильтрация
|

|===

Тело::
Java Script выражение

Пример::
[source,xml]
----
<dependencies>
  <visibility ref-widget-id="main" ref-model="resolve">type.id == 1</visibility>
  <!-- Поле видимо, если type.id равен 1 -->
</dependencies>
----
