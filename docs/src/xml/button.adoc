== Кнопки

Библиотека компонентов::
```
http://n2oapp.net/framework/config/schema/button-2.0
```

=== Базовые свойства

[cols="2,1,4,4"]
|===
|Наименование|Тип|Описание|Значение по умолчанию

|label
|Строка
|Заголовок кнопки
|Вычисляется из `action-id`

|icon
|http://fontawesome.io/icons/[CSS класс]
|Иконка
|Вычисляется из `action-id`

|type
|text, icon, iconAndText
|Кнопка с иконкой или без
|iconAndText

|class
|https://getbootstrap.com/docs/4.0/components/buttons/#examples[CSS класс]
|Css класс кнопки
|

|style
|CSS свойство
|Стиль кнопки
|

|color
|primary, secondary, success, danger, warning, info, light, dark, link
|Цвет кнопки
|

|src
|Строка
|Реализация действия.
|

|visible
|true false
|Видимость по умолчанию.
|true

|enabled
|true false
|Доступность по умолчанию.
|true

|===

===== <button>
Кнопка.

Атрибуты::
[cols="2,1,4,4"]
|===
|Наименование|Тип|Описание|Значение по умолчанию

|id
|Строка
|Идентификатор кнопки
|Вычисляется из `action-id`

|action-id
|Ссылка на link:#__action[действие страницы]
|Действие страницы, которое будет вызвано при нажатии на кнопку
|

|validate
|true false
|Валидировать ли форму при нажатии на кнопку.
|

|visibility-condition
|Строка
|Условие видимости.
|

|enabling-condition
|Строка
|Условие доступности.
|

|tooltip-position
|left, right, top, bottom
|Позиция подсказки.
|

|confirm
|true false
|Показать предупреждение перед выполнением действия.
|

|confirm-text
|Строка
|Текст предупреждения.
|

|confirm-title
|Строка
|Заголовок окна предупреждения.
|

|confirm-ok-label
|Строка
|Текст кнопки подтверждения.
|

|confirm-cancel-label
|Строка
|Текст кнопки отмены.
|

|widget-id
|Строка
|Идентификатор виджета над которым будет выполнена операция. По умолчанию главный виджет страницы(если он один).
|

|disable-on-empty-model
|true false auto
|Недоступность кнопки при пустой модели.
`true` - всегда недоступна,
`false` - всегда доступна,
`auto` - недоступна только при пустой модели resolve,
для всех остальных моделей доступна всегда.
|auto
|===

Тело::
link:#_Действия[Обработчик действия]

Пример::
[source,xml]
----
<button action-id="create"/>
----

[source,xml]
----
<button
  label="Добавить в реестр"
  icon="fa-plus"
  type="icon">
  <open-page page-id="register" action-id="create"/>
</button>
----

===== <sub-menu>
Кнопка с выпадающим меню.

Атрибуты::
[cols="2,1,4,4"]
|===
|Наименование|Тип|Описание|Значение по умолчанию

|generate
|Строка
|Генерация стандартных кнопок.
|
|show-toggle-icon
|true false
|Отображать переключатель выпадающего меню.
|true
|===

Пример::
[source,xml]
----
<sub-menu>
  <menu-item>...<menu-item>
  <menu-item>...<menu-item>
  <menu-item>...<menu-item>
</sub-menu>
----

==== <dependencies>
Зависимости компонента

Пример::
[source,xml]
----
<button id="btn">
  <dependencies>
    ...
  </dependencies>
</button>
----

===== <enabling>
Условие доступности

Атрибуты::
[cols="2,1,4,4"]
|===
|Наименование|Тип|Описание|Значение по умолчанию

|ref-widget-id
|Строка
|Идентификатор виджета, по полю которого будет фильтрация
|

|ref-model
|resolve filter
|Модель виджета, по полю которого будет фильтрация
|

|message
|Строка
|Сообщение о причине недоступности
|


|===

Тело::
Java Script выражение

Пример::
[source,xml]
----
<dependencies>
  <enabling ref-widget-id="main" ref-model="resolve">type.id == 1</enabling>
  <!-- Поле доступно, если type.id равен 1 -->
</dependencies>
----

===== <visibility>
Условие видимости

Атрибуты::
[cols="2,1,4,4"]
|===
|Наименование|Тип|Описание|Значение по умолчанию

|ref-widget-id
|Строка
|Идентификатор виджета, по полю которого будет фильтрация
|

|ref-model
|resolve filter
|Модель виджета, по полю которого будет фильтрация
|

|===

Тело::
Java Script выражение

Пример::
[source,xml]
----
<dependencies>
  <visibility ref-widget-id="main" ref-model="resolve">type.id == 1</visibility>
  <!-- Поле видимо, если type.id равен 1 -->
</dependencies>
----

===== <copy>
Копирование данных.

Атрибуты::
[cols="2,1,4,4"]
|===
|Наименование|Тип|Описание|Значение по умолчанию

|source-model
|resolve filter multi edit datasource
|Модель, которая будет скопирована
|resolve

|source-widget-id
|Строка
|Идентификатор виджета источника
|Текущий виджет

|source-field-id
|Строка
|Идентификатор копируемого поля источника
|Вся модель

|target-model
|resolve filter multi edit datasource
|Модель, в которую будут скопированы данные
|resolve

|target-widget-id
|Строка
|Идентификатор целевого виджета
|Текущий виджет

|target-field-id
|Строка
|Идентификатор поля целевого виджета, в которое будут скопированы данные
|Вся модель

|mode
|merge replace add
|Тип слияния данных
|merge

|===

Пример::
[source,xml]
----
<copy source-field-id="id" target-widget-id="table"
      target-field-id="dictionary.id"/>
----

===== <link>
Ссылка.

Атрибуты::
[cols="2,1,4,4"]
|===
|Наименование|Тип|Описание|Значение по умолчанию

|href
|Строка
|URL
|

|target
|Строка
|
|

|===

Тело::
link:#_Параметры_запроса[Параметры действия]

Пример::
[source,xml]
----
  <link href="../" target="application">
    <path-param>...</path-param>
    <query-param>...</query-param>
  </link>
----