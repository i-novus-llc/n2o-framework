<?xml version='1.0' encoding='UTF-8'?>
<simple-page xmlns="http://n2oapp.net/framework/config/schema/page-4.0"
             name="Валидация невидимых полей">
    <form>
        <toolbar>
            <button id="b1" label="Валидировать" validate="true">
                <invoke operation-id="echo" route="/test"/>
            </button>
        </toolbar>
        <datasource object-id="test"/>
        <fields>
            <hidden id="id" default-value="1"/>
            <radio-group id="type" label="Родительское поле" query-id="ref"/>
            <input-select id="test0" required="true" label="Невидимое дочернее поле" query-id="ref" label-field-id="name" search-filter-id="fullName">
                <dependencies>
                    <visibility on="type">type.id==1 || type.id==2</visibility>
                </dependencies>
            </input-select>
            <set visible="{type.id==1 || type.id==2}" depends-on="type">
                <input-select id="test1" required="true" label="Дочернее поле в невидимом филдсете" query-id="ref" label-field-id="name" search-filter-id="fullName"/>
            </set>
            <set visible="{type.id==1 || type.id==2}" depends-on="type">
                <set>
                    <input-select id="test2" required="true" label="Дочернее поле в невидимом филдсете в филдсете" query-id="ref" label-field-id="name" search-filter-id="fullName"/>
                </set>
            </set>
            <set visible="{type.id==1 || type.id==2}" depends-on="type">
                <set>
                    <set>
                        <input-select id="test3" required="true" label="Дочернее поле в невидимом филдсете в филдсете в филдсете" query-id="ref" label-field-id="name" search-filter-id="fullName"/>
                    </set>
                </set>
            </set>
        </fields>
    </form>
</simple-page>