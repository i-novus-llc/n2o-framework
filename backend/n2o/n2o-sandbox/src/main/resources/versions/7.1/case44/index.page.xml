<?xml version='1.0' encoding='UTF-8'?>
<page xmlns="http://n2oapp.net/framework/config/schema/page-4.0"
      name="Обновление виджетов после invoke">
    <regions>
        <table id="master">
            <datasource query-id="test"/>
            <columns>
                <column text-field-id="id"/>
                <column label="Имя" text-field-id="name"/>
            </columns>
        </table>
        <table id="detail">
            <toolbar place="topRight">
                <button label="Удалить: обновление текущего виджета" datasource="master">
                    <invoke operation-id="delete"/>
                </button>
                <button label="Удалить: обновление master виджета" datasource="master">
                    <invoke refresh-datasources="master" operation-id="delete"/>
                </button>
                <button label="Создать: обновление текущего виджета" datasource="master">
                    <show-modal page-id="test" submit-operation-id="create" route="/create2">
                        <datasources>
                            <datasource default-values-mode="defaults"/>
                        </datasources>
                    </show-modal>
                </button>
                <button label="Создать: обновление master виджета" datasource="master">
                    <show-modal page-id="test" submit-operation-id="create" refresh-datasources="master" route="/create">
                        <datasources>
                            <datasource default-values-mode="defaults"/>
                        </datasources>
                    </show-modal>
                </button>
            </toolbar>
            <datasource query-id="test"/>
            <columns>
                <column text-field-id="id"/>
                <column label="Имя" text-field-id="name"/>
            </columns>
        </table>
    </regions>
</page>