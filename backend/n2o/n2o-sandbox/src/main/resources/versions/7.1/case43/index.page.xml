<?xml version='1.0' encoding='UTF-8'?>
<page xmlns="http://n2oapp.net/framework/config/schema/page-4.0"
      name="Разрешение ссылок в названии страницы">
    <regions>
        <table id="master">
            <toolbar>
                <button label="Хлебные крошки">
                    <open-page page-id="test" route="/:id/open">
                        <params>
                            <path-param name="id" value="{id}"/>
                        </params>
                    </open-page>
                </button>
                <button label="Модальное окно">
                    <show-modal page-id="test" route="/:id/modal">
                        <params>
                            <path-param name="id" value="{id}"/>
                        </params>
                    </show-modal>
                </button>
            </toolbar>
            <datasource query-id="test"/>
            <columns>
                <column text-field-id="id"/>
                <column text-field-id="name"/>
                <column text-field-id="type"/>
            </columns>
        </table>
        <form>
            <toolbar place="bottomLeft">
                <button label="Хлебные крошки от master" datasource="master">
                    <open-page page-id="test" route="/:id/open2">
                        <params>
                            <path-param name="id" value="{id}"/>
                        </params>
                    </open-page>
                </button>
                <button label="Модальное окно от detail">
                    <show-modal page-id="test" route="/:id/modal2">
                        <params>
                            <path-param name="id" value="{id}"/>
                        </params>
                    </show-modal>
                </button>
            </toolbar>
            <datasource query-id="test" route="/:master_id/detail">
                <dependencies>
                    <fetch on="master" model="resolve"/>
                </dependencies>
                <filters>
                    <eq field-id="id" param="master_id" value="{id}" datasource="master" model="resolve" required="true"/>
                </filters>
            </datasource>
            <fields>
                <input-text id="name" enabled="false" no-label="true"/>
            </fields>
        </form>
    </regions>
</page>