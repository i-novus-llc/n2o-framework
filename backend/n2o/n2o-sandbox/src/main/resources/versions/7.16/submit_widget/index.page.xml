<?xml version='1.0' encoding='UTF-8'?>
<page xmlns="http://n2oapp.net/framework/config/schema/page-4.0"
      name="Ссылка на виджет в submit">
    <regions>
        <form id="mainForm">
            <datasource query-id="test" object-id="test" route="/main"/>
            <fields>
                <input-text id="name" label="Имя (Обновляется верхний виджет)">
                    <submit operation-id="updateField" refresh-on-success="true" refresh-datasource="upperForm" route="updateUpper">
                        <form-param id="id" value="{id}"/>
                        <form-param id="key" value="name"/>
                        <form-param id="value" value="{name}"/>
                    </submit>
                </input-text>
                <select id="gender" label="Пол (Обновляется нижний виджет)">
                    <submit operation-id="updateField" refresh-on-success="true" refresh-datasource="bottomForm" route="updateBottom">
                        <form-param id="id" value="{id}"/>
                        <form-param id="key" value="gender.id"/>
                        <form-param id="value" value="{gender.id}"/>
                    </submit>
                    <options>
                        <option name="Мужской" id="m"/>
                        <option name="Женский" id="w"/>
                    </options>
                </select>
            </fields>
        </form>
        <form id="upperForm">
            <datasource query-id="test"/>
            <fields>
                <text id="id1">Верхний виджет</text>
                <input-text id="name" enabled="false" label="Имя"/>
                <select id="gender" enabled="false" label="Пол">
                    <options>
                        <option name="Мужской" id="m"/>
                        <option name="Женский" id="w"/>
                    </options>
                </select>
            </fields>
        </form>
        <form id="bottomForm">
            <datasource query-id="test"/>
            <fields>
                <text id="id2">Нижний виджет</text>
                <input-text id="name" enabled="false" label="Имя"/>
                <select id="gender" enabled="false" label="Пол">
                    <options>
                        <option name="Мужской" id="m"/>
                        <option name="Женский" id="w"/>
                    </options>
                </select>
            </fields>
        </form>
    </regions>
</page>