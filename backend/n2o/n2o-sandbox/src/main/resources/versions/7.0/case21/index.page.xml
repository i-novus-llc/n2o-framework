<?xml version='1.0' encoding='UTF-8'?>
<page xmlns="http://n2oapp.net/framework/config/schema/page-4.0"
      name="Форма с двумя моделями, загруженная через выборку">
    <regions>
        <panel title="Форма с двумя моделями: edit и resolve">
            <form id="master" mode="two-models">
                <toolbar place="bottomLeft">
                    <button id="btn" label="Скопировать">
                        <copy source-model="edit" target-model="resolve"/>
                    </button>
                </toolbar>
                <datasource query-id="test">
                    <filters>
                        <eq field-id="id" value="1"/>
                    </filters>
                </datasource>
                <fields>
                    <input-text id="id" description="Введите 1 или 2"/>
                </fields>
            </form>
        </panel>
        <panel title="Форма зависимая от resolve">
            <form id="detail">
                <datasource query-id="test">
                    <dependencies>
                        <fetch on="master" model="resolve"/>
                    </dependencies>
                    <filters>
                        <eq field-id="id" value="{id}" datasource="master" model="resolve" required="true"/>
                    </filters>
                </datasource>
                <fields>
                    <input-text id="name" description="Здесь должно быть значение test1 или test2"/>
                </fields>
            </form>
        </panel>
    </regions>
</page>