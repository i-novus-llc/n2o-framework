<?xml version='1.0' encoding='UTF-8'?>
<simple-page xmlns="http://n2oapp.net/framework/config/schema/page-4.0"
             name="Воспроизводится потеря параметров при переходе между страницами">
    <table>
        <toolbar>
            <button label="Открыть">
                <open-page page-id="modal2" route="/:id/modal2">
                    <datasources>
                        <datasource default-values-mode="query"/>
                    </datasources>
                    <params>
                        <query-param name="sid" value="{type}"/>
                        <path-param name="id" value="{id}"/>
                    </params>
                </open-page>
            </button>
            <button label="Открыть по старому">
                <open-page page-id="modal">
                    <datasources>
                        <datasource default-values-mode="query">
                            <filters>
                                <eq field-id="id" param="$widgetId_id" value="{id}"/>
                                <eq field-id="type" param="sid" value="{type}"/>
                            </filters>
                        </datasource>
                    </datasources>
                    <params>
                        <query-param name="$widgetId_id" value="{id}"/>
                    </params>
                </open-page>
            </button>
        </toolbar>
        <datasource query-id="test"/>
        <columns>
            <column label="Имя" text-field-id="name"/>
            <column label="Тип" text-field-id="type"/>
        </columns>
        <filters>
            <row>
                <input-text id="name" label="Имя"/>
                <input-text id="type" label="Тип" domain="integer"/>
            </row>
        </filters>
    </table>
</simple-page>