<?xml version='1.0' encoding='UTF-8'?>
<page xmlns="http://n2oapp.net/framework/config/schema/page-4.0">
    <regions>
        <region>
            <table id="master">
                <datasource query-id="testOpenPageRoute"/>
                <columns>
                    <column text-field-id="id"/>
                </columns>
            </table>
            <table id="detail">
                <datasource query-id="testOpenPageRoute">
                    <dependencies>
                        <fetch on="master" model="resolve"/>
                    </dependencies>
                    <filters>
                        <eq field-id="detailId" value="{id}" datasource="master" model="resolve" required="true"/>
                    </filters>
                </datasource>
                <toolbar>
                    <button id="withParam" model="resolve">
                        <open-page page-id="testOpenPageRoutePage" route="/:masterId/detail/:detailId/open1">
                            <datasources>
                                <datasource>
                                    <filters>
                                        <eq field-id="detailId" param="detailId" value="{id}"/>
                                    </filters>
                                </datasource>
                            </datasources>
                            <params>
                                <path-param name="masterId" value="{id}" datasource="master"/>
                                <path-param name="detailId" value="{id}"/>
                            </params>
                        </open-page>
                    </button>
                    <button id="withoutParam" model="resolve">
                        <open-page page-id="testOpenPageRoutePage" route="/open2">
                            <datasources>
                                <datasource>
                                    <filters>
                                        <eq field-id="detailId" param="$widgetId_detailId" value="{id}"/>
                                    </filters>
                                </datasource>
                            </datasources>
                            <params>
                                <query-param name="$widgetId_detailId" value="{id}"/>
                            </params>
                        </open-page>
                    </button>
                    <button id="withParamWithoutMasterDetail" model="resolve">
                        <open-page page-id="testOpenPageRoutePage" route="/:detailId/open3">
                            <params>
                                <path-param name="detailId" value="{id}"/>
                            </params>
                        </open-page>
                    </button>
                </toolbar>
                <columns>
                    <column text-field-id="id"/>
                </columns>
            </table>
        </region>
    </regions>
</page>